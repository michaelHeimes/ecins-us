"use strict";jQuery((function(t){if(t(".content-grid--filters-toggle button").on("click",(function(){t(this).toggleClass("is-active"),t(".content-grid--filters").slideToggle()})),t(".filter-box input").prop("checked",!1),t(".content-grid").length){var s={};t("body").hasClass("page-partners")&&(s.type="partners"),t("body").hasClass("post-type-archive-resource")&&(s.type="resources"),t("body").hasClass("blog")&&(s.type="news"),t("body").hasClass("page-press")&&(s.type="press"),(new function(){this.state={type:"content",tax_queries:[],init:!1,paused:!1},this.init=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.state=Object.assign(this.state,t),this.watchForChanges()},this.watchForChanges=function(){var s=this;s.state.tax_queries=[],t(".filter-box").each((function(){t(".filter-box input").on("change",(function(){s.state.paused||s.getPosts()}))}))},this.updateCheckboxes=function(){var s=this;s.state.tax_queries=[],t(".filter-box").each((function(){t(this).find("input").each((function(){var e=t(this).is(":checked"),i=t(this).parents(".filter-box").attr("data-filter"),a=t(this).val();e&&s.state.tax_queries.push({taxonomy:i,term_id:a})}))}))},this.getPosts=function(){this.updateCheckboxes();var s=this,e=localized.siteUrl+"/wp-json/ecins/v2/"+this.state.type,i={tax_queries:this.state.tax_queries};t(".content-grid--results").addClass("is-loading"),s.state.paused=!0,t.get(e,i).done((function(t){t=JSON.parse(t),s.state.totalPosts=t.meta.total,s.state.totalPages=t.meta.pages,s.displayPosts(t.data)}))},this.displayPosts=function(s){var e="";Object.keys(s).forEach((function(t){var i='<div class="results"><div class="results--title">'+s[t].title+"</div>";Object.keys(s[t]).forEach((function(e){"title"!==e&&(i+=(s[t][e].link?'<a href="'+s[t][e].link+'"'+(s[t][e].target?' target="'+s[t][e].target+'"':"")+' class="content-card">':'<span class="content-card">')+'<div class="content-card--box"><div class="content-card--image"><img src="'+s[t][e].image+'"></div><div class="content-card--title">'+s[t][e].title+"</div>"+(s[t][e].desc?'<div class="content-card--desc">'+s[t][e].desc+"</div>":"")+(s[t][e].link?'<div class="content-card--link"><span>See More</span></div>':"")+"</div>"+(s[t][e].link?"</a>":"</span>"))})),e+=i+"</div>"})),t(".content-grid--results").html(e).removeClass("is-loading"),this.state.paused=!1}}).init(s)}}));